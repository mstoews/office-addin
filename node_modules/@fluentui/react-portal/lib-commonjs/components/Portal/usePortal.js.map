{"version":3,"sources":["usePortal.js"],"sourcesContent":["import { isHTMLElement, setVirtualParent } from '@fluentui/react-utilities';\nimport * as React from 'react';\nimport { usePortalMountNode } from './usePortalMountNode';\nexport function toMountNodeProps(mountNode) {\n    if (isHTMLElement(mountNode)) {\n        return {\n            element: mountNode\n        };\n    }\n    if (typeof mountNode === 'object') {\n        if (mountNode === null) {\n            return {\n                element: null\n            };\n        }\n        return mountNode;\n    }\n    return {};\n}\n/**\n * Create the state required to render Portal.\n *\n * The returned state can be modified with hooks such as usePortalStyles, before being passed to renderPortal_unstable.\n *\n * @param props - props from this instance of Portal\n */ export const usePortal_unstable = (props)=>{\n    const { element, className } = toMountNodeProps(props.mountNode);\n    const virtualParentRootRef = React.useRef(null);\n    const fallbackElement = usePortalMountNode({\n        disabled: !!element,\n        className\n    });\n    const state = {\n        children: props.children,\n        mountNode: element !== null && element !== void 0 ? element : fallbackElement,\n        virtualParentRootRef\n    };\n    React.useEffect(()=>{\n        if (state.virtualParentRootRef.current && state.mountNode) {\n            setVirtualParent(state.mountNode, state.virtualParentRootRef.current);\n        }\n        return ()=>{\n            if (state.mountNode) {\n                setVirtualParent(state.mountNode, undefined);\n            }\n        };\n    }, [\n        state.virtualParentRootRef,\n        state.mountNode\n    ]);\n    return state;\n};\n"],"names":["toMountNodeProps","usePortal_unstable","mountNode","isHTMLElement","element","props","className","virtualParentRootRef","React","useRef","fallbackElement","usePortalMountNode","disabled","state","children","useEffect","current","setVirtualParent","undefined"],"mappings":";;;;;;;;;;;IAGgBA,gBAAgB;eAAhBA;;IAsBCC,kBAAkB;eAAlBA;;;;gCAzB+B;iEACzB;oCACY;AAC5B,SAASD,iBAAiBE,SAAS;IACtC,IAAIC,IAAAA,6BAAa,EAACD,YAAY;QAC1B,OAAO;YACHE,SAASF;QACb;IACJ;IACA,IAAI,OAAOA,cAAc,UAAU;QAC/B,IAAIA,cAAc,MAAM;YACpB,OAAO;gBACHE,SAAS;YACb;QACJ;QACA,OAAOF;IACX;IACA,OAAO,CAAC;AACZ;AAOW,MAAMD,qBAAqB,CAACI;IACnC,MAAM,EAAED,OAAO,EAAEE,SAAS,EAAE,GAAGN,iBAAiBK,MAAMH,SAAS;IAC/D,MAAMK,uBAAuBC,OAAMC,MAAM,CAAC;IAC1C,MAAMC,kBAAkBC,IAAAA,sCAAkB,EAAC;QACvCC,UAAU,CAAC,CAACR;QACZE;IACJ;IACA,MAAMO,QAAQ;QACVC,UAAUT,MAAMS,QAAQ;QACxBZ,WAAWE,YAAY,QAAQA,YAAY,KAAK,IAAIA,UAAUM;QAC9DH;IACJ;IACAC,OAAMO,SAAS,CAAC;QACZ,IAAIF,MAAMN,oBAAoB,CAACS,OAAO,IAAIH,MAAMX,SAAS,EAAE;YACvDe,IAAAA,gCAAgB,EAACJ,MAAMX,SAAS,EAAEW,MAAMN,oBAAoB,CAACS,OAAO;QACxE;QACA,OAAO;YACH,IAAIH,MAAMX,SAAS,EAAE;gBACjBe,IAAAA,gCAAgB,EAACJ,MAAMX,SAAS,EAAEgB;YACtC;QACJ;IACJ,GAAG;QACCL,MAAMN,oBAAoB;QAC1BM,MAAMX,SAAS;KAClB;IACD,OAAOW;AACX"}